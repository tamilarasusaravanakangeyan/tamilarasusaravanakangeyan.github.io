{{ define "main" }}
<div class="home-page">
  {{/* Hero Section */}}
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">{{ .Title }}</h1>
      <div class="hero-description">
        {{ .Content }}
      </div>
      
      {{/* Call to Action */}}
      <div class="hero-actions">
        <a href="/blog/" class="btn btn-primary">Read My Blog</a>
        <a href="/projects/" class="btn btn-secondary">View Projects</a>
        <a href="/contact/" class="btn btn-outline">Get In Touch</a>
      </div>
    </div>
  </section>
  
  {{/* Featured Posts Section */}}
  <section class="featured-posts">
    <div class="section-header">
      <h2 class="section-title">Latest Blog Posts</h2>
      <a href="/blog/" class="section-link">View All Posts ‚Üí</a>
    </div>
    
    <div class="posts-grid">
      {{- $posts := where .Site.RegularPages "Section" "blog" | first 6 -}}
      {{- range $posts -}}
        <article class="post-card">
          {{- if .Params.featured_image -}}
            <div class="post-image">
              <img src="{{ .Params.featured_image }}" alt="{{ .Title }}" loading="lazy">
            </div>
          {{- end -}}
          
          <div class="post-content">
            <div class="post-meta">
              <time datetime="{{ .Date.Format "2006-01-02" }}" class="post-date">
                {{ .Date.Format "Jan 2, 2006" }}
              </time>
              {{- if .Params.categories -}}
                <div class="post-categories">
                  {{- range first 2 .Params.categories -}}
                    {{- $categorySlug := . | urlize -}}
                    <a href="/categories/{{ $categorySlug }}/" class="post-category">{{ . }}</a>
                  {{- end -}}
                </div>
              {{- end -}}
            </div>
            
            <h3 class="post-title">
              <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            </h3>
            
            <p class="post-excerpt">
              {{ .Summary | plainify | truncate 120 }}
            </p>
            
            <div class="post-footer">
              <a href="{{ .RelPermalink }}" class="read-more">Read More</a>
              {{- if .Params.tags -}}
                <div class="post-tags">
                  {{- range first 3 .Params.tags -}}
                    {{- $tagSlug := . | urlize -}}
                    <span class="post-tag">#{{ . }}</span>
                  {{- end -}}
                </div>
              {{- end -}}
            </div>
          </div>
        </article>
      {{- end -}}
    </div>
  </section>
  
  {{/* Recent Projects Section */}}
  <section class="recent-projects">
    <div class="section-header">
      <h2 class="section-title">Featured Projects</h2>
      <a href="/projects/" class="section-link">View All Projects ‚Üí</a>
    </div>
    
    <div class="projects-grid">
      {{- $projects := where .Site.RegularPages "Section" "projects" | first 4 -}}
      {{- range $projects -}}
        <article class="project-card">
          {{- if .Params.featured_image -}}
            <div class="project-image">
              <img src="{{ .Params.featured_image }}" alt="{{ .Title }}" loading="lazy">
            </div>
          {{- end -}}
          
          <div class="project-content">
            <h3 class="project-title">
              <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            </h3>
            
            <p class="project-description">
              {{ .Summary | plainify | truncate 100 }}
            </p>
            
            {{- if .Params.technologies -}}
              <div class="project-technologies">
                {{- range first 4 .Params.technologies -}}
                  <span class="tech-tag">{{ . }}</span>
                {{- end -}}
              </div>
            {{- end -}}
            
            <div class="project-links">
              {{- if .Params.github_url -}}
                <a href="{{ .Params.github_url }}" class="project-link" target="_blank" rel="noopener">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                  </svg>
                  Code
                </a>
              {{- end -}}
              
              {{- if .Params.demo_url -}}
                <a href="{{ .Params.demo_url }}" class="project-link" target="_blank" rel="noopener">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
                    <polyline points="15,3 21,3 21,9"/>
                    <line x1="10" y1="14" x2="21" y2="3"/>
                  </svg>
                  Demo
                </a>
              {{- end -}}
              
              <a href="{{ .RelPermalink }}" class="project-link">
                Learn More ‚Üí
              </a>
            </div>
          </div>
        </article>
      {{- end -}}
    </div>
  </section>
  
  {{/* Skills & Stats Section */}}
  <section class="skills-stats">
    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-number">{{ len (where .Site.RegularPages "Section" "blog") }}+</div>
        <div class="stat-label">Blog Posts</div>
      </div>
      
      <div class="stat-item">
        <div class="stat-number">{{ len (where .Site.RegularPages "Section" "projects") }}+</div>
        <div class="stat-label">Projects</div>
      </div>
      
      <div class="stat-item">
        <div class="stat-number">{{ len .Site.Taxonomies.technologies }}+</div>
        <div class="stat-label">Technologies</div>
      </div>
      
      <div class="stat-item">
        <div class="stat-number">{{ now.Year | sub 2020 }}+</div>
        <div class="stat-label">Years Experience</div>
      </div>
    </div>
  </section>
  
  {{/* Recent Activity / Timeline */}}
  <section class="recent-activity">
    <div class="section-header">
      <h2 class="section-title">Recent Activity</h2>
    </div>
    
    <div class="activity-timeline">
      {{- $recentContent := .Site.RegularPages | first 8 -}}
      {{- range $recentContent -}}
        <div class="timeline-item">
          <div class="timeline-date">
            <time datetime="{{ .Date.Format "2006-01-02" }}">
              {{ .Date.Format "Jan 2" }}
            </time>
          </div>
          
          <div class="timeline-content">
            <div class="timeline-type">
              {{- if eq .Section "blog" -}}
                üìù Published post
              {{- else if eq .Section "projects" -}}
                üöÄ Added project
              {{- else -}}
                üìÑ Updated page
              {{- end -}}
            </div>
            
            <h4 class="timeline-title">
              <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            </h4>
            
            {{- if .Params.categories -}}
              <div class="timeline-categories">
                {{- range first 2 .Params.categories -}}
                  <span class="timeline-category">{{ . }}</span>
                {{- end -}}
              </div>
            {{- end -}}
          </div>
        </div>
      {{- end -}}
    </div>
  </section>
  
  {{/* Newsletter/Contact CTA */}}
  <section class="cta-section">
    <div class="cta-content">
      <h2 class="cta-title">Let's Build Something Amazing Together</h2>
      <p class="cta-description">
        Interested in collaborating on a project or just want to say hello? I'd love to hear from you.
      </p>
      
      <div class="cta-actions">
        <a href="/contact/" class="btn btn-primary">Get In Touch</a>
        <a href="/about/" class="btn btn-outline">Learn More About Me</a>
      </div>
    </div>
  </section>
</div>
{{ end }}